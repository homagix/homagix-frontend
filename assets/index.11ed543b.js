var w=Object.defineProperty,C=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var h=(t,e,s)=>e in t?w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,y=(t,e)=>{for(var s in e||(e={}))A.call(e,s)&&h(t,s,e[s]);if(f)for(var s of f(e))N.call(e,s)&&h(t,s,e[s]);return t},R=(t,e)=>C(t,k(e));import{c as $,u as b,d as E,a as g,o as i,b as u,e as d,f as a,g as j,t as O,h as T,i as x,F as p,r as H,j as I,k as V,l as B,m as F}from"./vendor.ca735c95.js";const P=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}};P();var S={SET_ERROR(t,e){t.error=e},LOADED_DISHES(t,e){t.dishes=e.dishes}};async function U(t,e,s={},o={}){var c;["post","put","patch"].includes(t.toLowerCase())&&Object.keys(s).length?(o.data=JSON.stringify(s),o.headers=R(y({},o.headers||{}),{["Content Type"]:"application/json"})):Object.keys(s).length&&(e+=`?${new URLSearchParams(s).toString()}`),o.method=t;const r=await fetch(e,o),n=((c=r.headers.get("content-type"))==null?void 0:c.match(/json/))?await r.json():await r.text();if(!r.ok){const _={message:`${t} ${e} -> ${r.status}`,details:{request:`${t} ${e}`,status:r.status,content:n}};throw console.error(_),_}return n}async function q(){return await U("get","/api/dishes")}function z(t,e){return async(s,...o)=>{try{await t(s,...o)}catch(r){s.dispatch(m.ERROR_OCCURED,{message:e,details:r})}}}var D={ERROR_OCCURED(t,e){t.commit(l.SET_ERROR,e)},CLEAR_ERROR(t){t.commit(l.SET_ERROR,null)},LOAD_DISHES:z(async t=>t.commit(l.LOADED_DISHES,await q()),"Rezepte konnten nicht geladen werden")},K={};const M={error:null,dishes:[]},J=$({strict:{}.NODE_ENV!=="production",state:M,mutations:S,actions:D,getters:K});function v(t){return Object.assign({},...Object.keys(t).map(e=>({[e]:e})))}const l=v(S),m=v(D);function L(){return b()}const W=a("div",{class:"title"},[a("h1",null,"Homagix")],-1),G={key:0,class:"error-container"},Q={class:"content"},X=E({setup(t){const e=L(),s=g(()=>e==null?void 0:e.state.error);e.dispatch(m.LOAD_DISHES);function o(){e.dispatch(m.CLEAR_ERROR)}return(r,n)=>{const c=H("router-view");return i(),u(p,null,[W,d(s)?(i(),u("div",G,[a("span",{onClick:o},"\xD7"),j(" "+O(d(s).message),1)])):T("",!0),a("div",Q,[x(c)])],64)}}}),Y=a("h2",null,"Rezepte",-1),Z={id:"recipes"},ee=E({setup(t){const e=L(),s=g(()=>{var r;const o=(r=e.state.dishes)==null?void 0:r.filter(n=>!n.alwaysOnList);return o==null?void 0:o.sort((n,c)=>n.name.localeCompare(c.name))});return(o,r)=>(i(),u(p,null,[Y,a("ul",Z,[(i(!0),u(p,null,I(d(s),n=>(i(),u("li",{key:n.id},O(n.name),1))),128))])],64))}});var te=V({history:B(),routes:[{name:"home",path:"/",redirect:"/recipes"},{name:"recipes",path:"/recipes",component:ee}]});F(X).use(J).use(te).mount("#app");
