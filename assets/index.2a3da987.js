var C=Object.defineProperty,b=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var y=(t,e,s)=>e in t?C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,R=(t,e)=>{for(var s in e||(e={}))A.call(e,s)&&y(t,s,e[s]);if(h)for(var s of h(e))N.call(e,s)&&y(t,s,e[s]);return t},g=(t,e)=>b(t,k(e));import{c as $,u as j,d as E,a as O,o as i,b as u,e as d,f as c,g as x,t as S,h as T,i as H,F as p,r as I,j as P,k as V,l as B,m as F}from"./vendor.ca735c95.js";const U=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}};U();var D={SET_ERROR(t,e){t.error=e},LOADED_DISHES(t,e){t.dishes=e.dishes}};async function q(t,e,s={},n={}){var _;const o=localStorage.getItem("basePath")||"https://homagix.dilab.co";["post","put","patch"].includes(t.toLowerCase())&&Object.keys(s).length?(n.data=JSON.stringify(s),n.headers=g(R({},n.headers||{}),{["Content Type"]:"application/json"})):Object.keys(s).length&&(e+=`?${new URLSearchParams(s).toString()}`),n.method=t;const r=await fetch(o+e,n),a=((_=r.headers.get("content-type"))==null?void 0:_.match(/json/))?await r.json():await r.text();if(!r.ok){const f={message:`${t} ${e} -> ${r.status}`,details:{request:`${t} ${e}`,status:r.status,content:a}};throw console.error(f),f}return a}async function z(){return await q("get","/api/dishes")}function K(t,e){return async(s,...n)=>{try{await t(s,...n)}catch(o){s.dispatch(m.ERROR_OCCURED,{message:e,details:o})}}}var v={ERROR_OCCURED(t,e){t.commit(l.SET_ERROR,e)},CLEAR_ERROR(t){t.commit(l.SET_ERROR,null)},LOAD_DISHES:K(async t=>t.commit(l.LOADED_DISHES,await z()),"Rezepte konnten nicht geladen werden")},M={};const J={error:null,dishes:[]},W=$({strict:{}.NODE_ENV!=="production",state:J,mutations:D,actions:v,getters:M});function L(t){return Object.assign({},...Object.keys(t).map(e=>({[e]:e})))}const l=L(D),m=L(v);function w(){return j()}const G=c("div",{class:"title"},[c("h1",null,"Homagix")],-1),Q={key:0,class:"error-container"},X={class:"content"},Y=E({setup(t){const e=w(),s=O(()=>e==null?void 0:e.state.error);e.dispatch(m.LOAD_DISHES);function n(){e.dispatch(m.CLEAR_ERROR)}return(o,r)=>{const a=I("router-view");return i(),u(p,null,[G,d(s)?(i(),u("div",Q,[c("span",{onClick:n},"\xD7"),x(" "+S(d(s).message),1)])):T("",!0),c("div",X,[H(a)])],64)}}}),Z=c("h2",null,"Rezepte",-1),ee={id:"recipes"},te=E({setup(t){const e=w(),s=O(()=>{var o;const n=(o=e.state.dishes)==null?void 0:o.filter(r=>!r.alwaysOnList);return n==null?void 0:n.sort((r,a)=>r.name.localeCompare(a.name))});return(n,o)=>(i(),u(p,null,[Z,c("ul",ee,[(i(!0),u(p,null,P(d(s),r=>(i(),u("li",{key:r.id},S(r.name),1))),128))])],64))}});var re=V({history:B(),routes:[{name:"home",path:"/",redirect:"/recipes"},{name:"recipes",path:"/recipes",component:te}]});F(Y).use(W).use(re).mount("#app");
